# GECCO

A small package used to compute projected constraints on dark-matter models from 
the proposed GECCO telescope. The data and plots generated are those that appear in
[Hunting for Dark Matter and New Physics with (a) GECCO](https://arxiv.org/abs/2101.10370).

## Usage

This package uses `poetry` to create a reproducible environment. [Install](https://python-poetry.org/docs/#installation) 
the `poetry` package and run `poetry install` to install the needed packages.

### Data Generation

Data is generated by using:

```sh
poetry run python -m gecko.generate config-file.json
```

Here, the `config-file.json` is the location of a `.json` file containing 
the information on what data should be generated. All models require a 
`"model"` and `"filename"` entry:

- `"model"`: 
  - Type: string,
  - Description: Model to generate constraints for.
  - Options: `"higgs-portal"`, `"kinetic-mixing"`, `"rh-neutrino"`, 
  `"single-channel-ann"` or `"single-channel-dec"`.
- `"filename"` 
  - Type: string,
  - Description: Name of the results file.

Some of these models require additional parameters to be set. These are:

- `"higgs-portal"` and `"kinetic-mixing"`
  - `"mass-ratio"` 
    - Type: float,
    - Description: Ratio between mediator mass and dark matter mass.
- `"rh-neutrino"`
  - `"lepton"` 
    - Type: string,
    - Description: Lepton flavor the RH neutrino mixes with.
    - Options: `"e"` or `"mu"`.

Additional optional parameters can be set. These are: 

- `"prefix"`: 
  - Type: string,
  - Description: Directory where the results should be stored.
  - Default: "results"
- `"mx-min"` 
  - Type: float,
  - Description: Minimum dark-matter mass. 
  - Default: 0.1
- `"mx-max"` 
  - Type: float,
  - Description: Maximum dark-matter mass. 
  - Default: 250.0
- `"sigma"` 
  - Type: list,
  - Description: List of sigma values used to specify constraints for 
  new-telescopes (in this case, GECCO.)
  - Default: [5.0, 25.0]
- `"overwrite"` 
  - Type: bool,
  - Description: If true and if file exists, results will be overwritten.
  - Default: false

An example file for generating the Higgs-portal data is:

```json
{
  "model": "higgs-portal",
  "mass-ratio": 0.5,
  "mx-min": 0.1,
  "mx-max": 1e3,
  "filename": "higgs_portal_0_5",
  "sigma": [5.0, 25.0],
  "overwrite": false
}
```

A set of configuration files can be found in the `configs` directory.

### Data Format

The data is stored in a `hdf5` file.

```python
{
  "masses": np.ndarray([...]),        # dark matter masses
  "comptel": np.ndarray([...]),       # limits on <sigma*v> from COMPTEL
  "egret": np.ndarray([...]),         # ... from EGRET
  "integral": np.ndarray([...]),      # ... from INTEGRAL
  "fermi": np.ndarray([...]),         # ... from Fermi
  "pheno": np.ndarray([...]),         # ... from ground-based experiments
  "relic-density": np.ndarray([...]), # ... from requiring correct DM relic-density
  "gecco": {
    "draco_nfw_5_deg": [              # ... from GECCO using Draco
      {                               # list of dicts
        "sigma": 5.0,
        "limits": np.ndarray([...]),
      }, 
      ...
    ],
    'gc_ein_5_deg_optimistic': [      # ... from GECCO using GC
      {                               # list of dicts
        "sigma": 5.0,
        "limits": np.ndarray([...]),
      }, 
      ...
    ],
    ...                               # other targets
  }
}
```

## Plots
